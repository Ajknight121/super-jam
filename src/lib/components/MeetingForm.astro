---
/*
  MeetingForm component: reproduces the layout in the screenshots.
  This is primarily styling + markup; small interactivity via HTML/CSS.
*/
import Calendar from "./Calendar.jsx";

const _now = new Date();
const _calendarMonth = _now.getMonth() + 1;
const _calendarYear = _now.getFullYear();
---
<section class="meeting-wrap">
  <div class="card">
    <h1 class="title">Create Meeting</h1>

    <label class="field">
      <div class="label-text">Meeting Name:</div>
      <input class="wide-input" type="text" placeholder="Insert the name of your meeting" />
    </label>

    <div class="field">
      <div class="label-text">Possible Times:</div>
      <div class="time-row">
        <div class="time-group">
          <input class="time-input" type="time" />
          <span class="ampm">AM</span>
        </div>

        <div class="to-text">TO</div>

        <div class="time-group">
          <input class="time-input" type="time" />
          <span class="ampm">PM</span>
        </div>
      </div>
      <div class = "timezone-row">
        <span class="label-text">Time Zone:</span>

        <select name="timezones" id="timezones" class="span5 time-group">
          <option value="-12:00">(GMT -12:00) Eniwetok, Kwajalein</option>
          <option value="-11:00">(GMT -11:00) Midway Island, Samoa</option>
          <option value="-10:00">(GMT -10:00) Hawaii</option>
          <option value="-09:50">(GMT -9:30) Taiohae</option>
          <option value="-09:00">(GMT -9:00) Alaska</option>
          <option value="-08:00">(GMT -8:00) Pacific Time (US &amp; Canada)</option>
          <option value="-07:00">(GMT -7:00) Mountain Time (US &amp; Canada)</option>
          <option value="-06:00" selected="selected">(GMT -6:00) Central Time (US &amp; Canada), Mexico City</option>
          <option value="-05:00">(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima</option>
          <option value="-04:50">(GMT -4:30) Caracas</option>
          <option value="-04:00">(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz</option>
          <option value="-03:50">(GMT -3:30) Newfoundland</option>
          <option value="-03:00">(GMT -3:00) Brazil, Buenos Aires, Georgetown</option>
          <option value="-02:00">(GMT -2:00) Mid-Atlantic</option>
          <option value="-01:00">(GMT -1:00) Azores, Cape Verde Islands</option>
          <option value="+00:00">(GMT) Western Europe Time, London, Lisbon, Casablanca</option>
          <option value="+01:00">(GMT +1:00) Brussels, Copenhagen, Madrid, Paris</option>
          <option value="+02:00">(GMT +2:00) Kaliningrad, South Africa</option>
          <option value="+03:00">(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg</option>
          <option value="+03:50">(GMT +3:30) Tehran</option>
          <option value="+04:00">(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi</option>
          <option value="+04:50">(GMT +4:30) Kabul</option>
          <option value="+05:00">(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent</option>
          <option value="+05:50">(GMT +5:30) Bombay, Calcutta, Madras, New Delhi</option>
          <option value="+05:75">(GMT +5:45) Kathmandu, Pokhara</option>
          <option value="+06:00">(GMT +6:00) Almaty, Dhaka, Colombo</option>
          <option value="+06:50">(GMT +6:30) Yangon, Mandalay</option>
          <option value="+07:00">(GMT +7:00) Bangkok, Hanoi, Jakarta</option>
          <option value="+08:00">(GMT +8:00) Beijing, Perth, Singapore, Hong Kong</option>
          <option value="+08:75">(GMT +8:45) Eucla</option>
          <option value="+09:00">(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk</option>
          <option value="+09:50">(GMT +9:30) Adelaide, Darwin</option>
          <option value="+10:00">(GMT +10:00) Eastern Australia, Guam, Vladivostok</option>
          <option value="+10:50">(GMT +10:30) Lord Howe Island</option>
          <option value="+11:00">(GMT +11:00) Magadan, Solomon Islands, New Caledonia</option>
          <option value="+11:50">(GMT +11:30) Norfolk Island</option>
          <option value="+12:00">(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka</option>
          <option value="+12:75">(GMT +12:45) Chatham Islands</option>
          <option value="+13:00">(GMT +13:00) Apia, Nukualofa</option>
          <option value="+14:00">(GMT +14:00) Line Islands, Tokelau</option>
        </select>
      </div>
        
    </div>

    <label class="repeat-row">
      <span>Repeating Weekly</span>
      <input type="checkbox" id="weekly-checkbox"/>
    </label>

    <div class="field">
      <div class="label-text">What days could work?</div>
      <div id="day-pills" role="group" aria-label="Days of week">
        <button class="pill">Sun</button>
        <button class="pill">Mon</button>
        <button class="pill">Tues</button>
        <button class="pill">Weds</button>
        <button class="pill">Thrs</button>
        <button class="pill">Fri</button>
        <button class="pill">Sat</button>
      </div>
    

    <div id="calendar-area">
      <Calendar client:load month={_calendarMonth} year={_calendarYear} />
    </div>
  </div>
  <div class="create-button-row">
    <button type="button" class="create-button">Create</button>
  </div>
</section>

<script>
  var checkbox = document.getElementById("weekly-checkbox");
  var pills = document.getElementById("day-pills");
  var calendar = document.getElementById("calendar-area");
  if(checkbox!=null && pills != null && calendar != null)
  checkbox.addEventListener('change', function() {
    if(pills!.style.display == "flex") {
      pills!.style.display = "none";
      calendar!.style.display = "flex";
    }
    else {
      pills!.style.display = "flex";
      calendar!.style.display = "none";
    }
  });

  document.addEventListener('DOMContentLoaded', function() {
  var btns = document.querySelectorAll('.pill');

  for(var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('click', function() {
    this.classList.toggle('selected'); // Toggles 'active-class' on and off
  });
}  
});
</script>


<style>
:root{
  --max-width:680px;
  --card-width:560px;
  --muted:#e9e9e9;
  --pill-bg:#e6e6e6;
  --accent:#f2f2f2;
}
.meeting-wrap {
  display:flex;
  width:100%;
  justify-content:center;
  padding: 28px 16px 80px;
  box-sizing:border-box;
  background: #f7f7f8;
  min-height:100vh;
  align-items:flex-start;
}
.card {
  width:100%;
  max-width:var(--card-width);
  background:white;
  border-radius:14px;
  padding:34px 36px;
  box-shadow: 0 12px 20px rgba(0,0,0,0.06);
  box-sizing:border-box;
}
.title {
  text-align:center;
  margin:0 0 20px 0;
  font-weight:600;
  color:#222;
  font-size:20px;
}
.field {
  margin: 18px 0;
}
.label-text {
  display:block;
  margin-bottom:8px;
  font-size:16px;
  color:#111;
}
.wide-input {
  width:100%;
  height:42px;
  border-radius:6px;
  border:0;
  background:var(--muted);
  padding:8px 12px;
  box-sizing:border-box;
}
.time-row {
  display:flex;
  align-items:center;
  gap:12px;
}
.time-group {
  display:flex;
  align-items:center;
  gap:8px;
  background:var(--muted);
  padding:6px 10px;
  border-radius:6px;
  border: 0;
}

.timezone-row {
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 0px 0px;
  border-radius:6px;
}
.time-input {
  border:0;
  background:transparent;
  font-size:14px;
  padding:0;
}


.ampm {
  margin-left:6px;
  color:#222;
  font-weight:500;
}
.to-text {
  font-weight:600;
  color:#333;
  margin:0 6px;
}
.repeat-row {
  display:flex;
  align-items:center;
  gap:12px;
  margin:0px 0px 10px;
  font-size:16px;
}
#day-pills {
  display:none;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-top:40px;
  margin-bottom: 40px;
}
.pill {
  background:transparent;
  border:0;
  padding:10px 16px;
  border-radius:26px;
  cursor:pointer;
  font-size:15px;
  color:#111;
}

.pill:hover {
  background: #fafafa;
  color:#111;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.02);
}

.pill.selected {
  background:var(--pill-bg);
  color:#111;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.02);
}

.pill.selected:hover {
  background: #d1d1d1;
  color:#111;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.02);
}

.pill-group {
  /* make some pills appear as a group/longer (matches screenshot feel) */
  padding-left:28px;
  padding-right:28px;
  border-radius:28px;
}
#calendar-area {
  margin-top:18px;
  display:flex;
  justify-content:flex-start;
}
@media (max-width:540px){
  .card {
    padding:20px;
  }
  .title { font-size:18px; }
}

.create-button-row {
  display: flex;
  justify-content: center;
}

.create-button {
  border-radius: 6px;
  background: #7ebdfc;
  border: 0px;
  color: white;
  font-family: bold;
  font-weight: bold;
  font-size: 20px;
  padding: 20px 42px;
  margin: 10px;
  transition: background 0.2s;
}

.create-button:hover {
  background: #6590e0;
}

</style>